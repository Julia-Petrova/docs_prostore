---
layout: default
title: Удаление логического представления
nav_order: 7
parent: Управление схемой данных
grand_parent: Работа с системой
has_children: false
---

# Удаление логического представления

Чтобы удалить [логическое представление](../../../Обзор_понятий_компонентов_и_связей/Основные_понятия/Логическое_представление/Логическое_представление.md) 
из [логической БД](../../../Обзор_понятий_компонентов_и_связей/Основные_понятия/Логическая_база_данных/Логическая_база_данных.md), 
выполните запрос [DROP VIEW](../../../Справочная_информация/Запросы_SQLplus/DROP_VIEW/DROP_VIEW.md) 
(см. пример [ниже](#пример-запроса-на-удаление-логического-представления)).

При успешном выполнении запроса логическое представление удаляется из [логической схемы данных](../../../Обзор_понятий_компонентов_и_связей/Основные_понятия/Логическая_схема_данных/Логическая_схема_данных.md). 
Удаление логического представления никак не отражается в [хранилище](../../../Обзор_понятий_компонентов_и_связей/Основные_понятия/Хранилище_данных/Хранилище_данных.md).

Чтобы проверить отсутствие логического представления, используйте любой из способов:
*   выполните [запрос метаданных](../Запрос_метаданных_логической_схемы/Запрос_метаданных_логической_схемы.md)
    логической схемы данных (вместо `DB_NAME` и `VIEW_NAME` подставьте имя логической БД и имя
    логического представления в верхнем регистре; см. пример [ниже](#пример-запроса-на-проверку-наличия-логического-представления)):
    ```sql
    SELECT * FROM INFORMATION_SCHEMA.tables
    WHERE table_schema = '<DB_NAME>' AND (table_name = '<VIEW_NAME>' AND table_type = 'VIEW')
    ```
*   выполните запрос [SELECT](../../../Справочная_информация/Запросы_SQLplus/SELECT/SELECT.md)
    к логическому представлению, например:
    ```sql
    SELECT * FROM <db_name>.<view_name> LIMIT 5
    ```
*   проверьте дерево объектов в вашем SQL-клиенте.

Если логическое представление отсутствует, указанный запрос к метаданным возвращает ноль записей, запрос к 
представлению возвращает исключение `Entity <view_name> does not exist`, и представление отсутствует среди 
объектов логической БД в SQL-клиенте. Иначе запрос к метаданным возвращает одну запись, запрос к представлению
возвращает от ноля до пяти записей (в зависимости от содержимого представления) и представление отображается
среди объектов логической БД в SQL-клиенте.

## Примеры

### Пример запроса на удаление логического представления

```sql
-- выбор базы данных sales по умолчанию
USE sales

-- удаление представления stores_by_sold_products
DROP VIEW stores_by_sold_products
```

### Пример запроса на проверку наличия логического представления

```sql
-- проверка наличия логического представления stores_by_sold_products
SELECT
  CASE
    WHEN count(*) > 0 THEN 'представление существует'
    ELSE 'представление не существует'
  END
FROM INFORMATION_SCHEMA.tables
WHERE table_schema = 'SALES' AND (table_name = 'STORES_BY_SOLD_PRODUCTS' AND table_type = 'VIEW')
```