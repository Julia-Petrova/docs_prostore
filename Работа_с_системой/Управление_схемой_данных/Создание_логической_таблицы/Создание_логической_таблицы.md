---
layout: default
title: Создание логической таблицы
nav_order: 3
parent: Управление схемой данных
grand_parent: Работа с системой
has_children: false
---

# Создание логической таблицы

Чтобы создать [логическую таблицу](../../../Обзор_понятий_компонентов_и_связей/Основные_понятия/Логическая_таблица/Логическая_таблица.md) 
в [логической базе данных](../../../Обзор_понятий_компонентов_и_связей/Основные_понятия/Логическая_база_данных/Логическая_база_данных.md), 
выполните запрос [CREATE TABLE](../../../Справочная_информация/Запросы_SQLplus/CREATE_TABLE/CREATE_TABLE.md) 
(см. пример [ниже](#пример-запроса-на-создание-логической-таблицы)). При успешном выполнении запроса логическая таблица появляется в 
[логической схеме данных](../../../Обзор_понятий_компонентов_и_связей/Основные_понятия/Логическая_схема_данных/Логическая_схема_данных.md).

Чтобы проверить наличие логической таблицы, используйте любой из способов:
*   выполните [запрос метаданных](../Запрос_метаданных_логической_схемы/Запрос_метаданных_логической_схемы.md) 
    логической схемы данных (вместо `DB_NAME` и `TABLE_NAME` подставьте имя логической БД и имя
    таблицы в верхнем регистре; см. пример [ниже](#пример-запроса-на-проверку-наличия-логической-таблицы)):
    ```sql
    SELECT * FROM INFORMATION_SCHEMA.tables
    WHERE table_schema = '<DB_NAME>' AND (table_name = '<TABLE_NAME>' AND table_type = 'BASE TABLE')
    ```
*   выполните запрос [SELECT](../../../Справочная_информация/Запросы_SQLplus/SELECT/SELECT.md) к логической 
    таблице:
    ```sql
    SELECT * FROM <db_name>.<table_name>
    ```
*   проверьте дерево объектов в вашем SQL-клиенте (см. рисунок [ниже](#img_table_in_object_tree)).

Если логическая таблица существует, указанный запрос к метаданным возвращает одну запись, запрос к таблице 
возвращает от ноля до нескольких записей (в зависимости от содержимого таблицы) и таблица отображается среди 
объектов логической БД в SQL-клиенте. Иначе запрос к метаданным возвращает ноль записей, запрос к таблице 
возвращает исключение `Entity <table_name> does not exist`, и таблица отсутствует среди объектов логической БД
в SQL-клиенте.

На рисунке ниже показано дерево объектов SQL-клиента, которое содержит логические таблицы `sales` и `stores`.

<a id="img_table_in_object_tree"></a>
![](Логическая_таблица.png){:height="40%" width="40%"}
{: .figure-center}
*Логические таблицы в дереве объектов*
{: .figure-caption-center}

## Примеры

### Пример запроса на создание логической таблицы

```sql
-- выбор базы данных sales по умолчанию
USE sales

-- создание таблицы sales
CREATE TABLE sales (
  identification_number INT NOT NULL,
  transaction_date TIMESTAMP NOT NULL,
  product_code VARCHAR(256) NOT NULL,
  product_units INT NOT NULL,
  store_id INT NOT NULL,
  description VARCHAR(256),
  PRIMARY KEY (identification_number)
)
DISTRIBUTED BY (identification_number)
```

### Пример запроса на проверку наличия логической таблицы

```sql
-- проверка наличия логической таблицы sales
SELECT
  CASE
    WHEN count(*) > 0 THEN 'таблица существует'
    ELSE 'таблица не существует'
  END
FROM INFORMATION_SCHEMA.tables
WHERE table_schema = 'SALES' AND (table_name = 'SALES' AND table_type = 'BASE TABLE')
```